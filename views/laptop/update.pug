extends ../layout

block content
    .container.mt-5
        .row 
          .col-md-6
                h1 Thêm sản phẩm mới
                form(method='POST', action='/laptop/create', enctype='multipart/form-data')
                    .mb-3
                        input.form-control(type='hidden' name='id' value=laptop.id)
                        label.form-label Name
                        input.form-control(type='text' name='name' value=laptop.name)
                    .mb-3
                        label.form-label TechSpecs
                        input.form-control(type='text'  name='techspecs' value=laptop.techSpecs)
                    .mb-3
                        label.form-label Price
                        input.form-control(type='number'  name='price' value=laptop.price)
                    .mb-3
                        label.form-label Image
                        img#img-preview.form-control.img-thumbnail.h-auto.w-50(src='/images/'+laptop.photo)
                    .mb-3
                        input#file-input.form-control(type='file' name='photo')   
                    .mb-3
                        button(type='submit').btn.btn-primary update
    script.
        const input = document.getElementById('file-input');
        const image = document.getElementById('img-preview');

        input.addEventListener('change', (e) =>{
            if(e.target.files.lenght){
                const src = URL.createObjectURL(e.target.files[0]);
                image.src = src;
            }
        })